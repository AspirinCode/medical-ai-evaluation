<!doctype html>
<html lang="en">
<head>
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link href="https://unpkg.com/jquery-resizable-columns@0.2.3/dist/jquery.resizableColumns.css" rel="stylesheet">

  <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.18.0/dist/bootstrap-table.min.css">

<script src="jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/bootstrap-table@1.18.0/dist/bootstrap-table.min.js"></script>
  <script src="https://unpkg.com/bootstrap-table@1.18.0/dist/extensions/resizable/bootstrap-table-resizable.min.js"></script>


<title>Medical AI Evaluation Database</title>

  <style type="text/css">
    html {
      font-size: 0.75rem;
    }

  </style>
</head>
<body>

    <nav class="navbar navbar-expand-md navbar-light mb-4" style="background-color: #efefef;">
      <a class="navbar-brand" href="#">Medical AI Evaluation</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#">Database<span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Visualizations</a>
          </li>
        </ul>
        
      </div>
    </nav>

  <div class="container-fluid mx-lg-auto px-md-5">

    <h1>Medical AI FDA Submissions</h1>
    <table id="table" border="1" class="dataframe table-bordered table-striped table-hover"
    	data-toggle="table"
   		data-url="table.json"
      data-height="600"
      data-pagination="true"
      data-search="true"
      data-search-highlight="true"
      data-show-columns="true"
      data-show-columns-toggle-all="true"
      data-show-columns-search="true"
      data-detail-view="true"
      data-detail-formatter="detailFormatter">

  <thead>
    <tr style="text-align: center;">
     	<th data-field='approval_number' data-sortable='true' data-visible='true' data-switchable='true'>approval_number</th>
		<th data-field='device_name' data-sortable='true' data-visible='true' data-switchable='true'>device_name</th>
		<th data-field='classification_product_code' data-sortable='true' data-visible='false' data-switchable='true'>classification_product_code</th>
		<th data-field='date_received' data-sortable='true' data-sorter="datesSorter" data-visible='false' data-switchable='true'>date_received</th>
		<th data-field='decision_date' data-sortable='true' data-sorter="datesSorter" data-visible='true' data-switchable='true'>decision_date</th>
		<th data-field='indications_for_use' data-sortable='true' data-visible='false' data-switchable='true'>indications_for_use</th>
		<th data-field='body_area' data-sortable='true' data-visible='true' data-switchable='true'>body_area</th>
		<th data-field='modality' data-sortable='true' data-visible='true' data-switchable='true'>modality</th>
		<th data-field='predicate_numbers' data-sortable='true' data-visible='false' data-switchable='true'>predicate_numbers</th>
		<th data-field='sample_size' data-sortable='true' data-sorter="numSorter" data-visible='true' data-switchable='true'>sample_size</th>
		<th data-field='num_sites' data-sortable='true' data-sorter="numSorter" data-visible='true' data-switchable='true'>num_sites</th>
		<th data-field='inc_exc_criteria' data-sortable='true' data-visible='true' data-switchable='true'>inc_exc_criteria</th>
		<th data-field='has_demographics' data-sortable='true' data-visible='true' data-switchable='true'>has_demographics</th>
		<th data-field='is_prospective' data-sortable='true' data-visible='true' data-switchable='true'>is_prospective</th>
		<th data-field='subtype_analysis' data-sortable='true' data-visible='true' data-switchable='true'>subtype_analysis</th>
		<th data-field='significance' data-sortable='true' data-visible='false' data-switchable='true'>significance</th>
		<th data-field='severity' data-sortable='true' data-visible='false' data-switchable='true'>severity</th>
		<th data-field='risk_level' data-sortable='true' data-visible='true' data-switchable='true'>risk_level</th>
		<th data-field='keywords' data-sortable='true' data-visible='true' data-switchable='true'>keywords</th>
		<th data-field='summary_link' data-sortable='true' data-visible='false' data-switchable='true'>summary_link</th>
    </tr>
  </thead>

</table>
  <script>
    $(function() {
      $('#table').bootstrapTable();
      //$('#table').bootstrapTable('hideColumn', 'query_id');
    })
    function datesSorter(a, b) {
      if (new Date(a) < new Date(b)) return 1;
      if (new Date(a) > new Date(b)) return -1;
      return 0;
    }
    function numSorter(a, b) {
      a = a.replace(">", "")
      b = b.replace(">", "")
      if (a == 'NA') return 1;
      if (b == 'NA') return -1;
      return Number(b) - Number(a)
    }
    function detailFormatter(index, row) {
    var html = ""
    $.each(row, function (key, value) {
      if (key == 'indications_for_use') {
        html = "<b>Indications for Use:</b> " + value
      }
    })
    return html
  }
  </script>
</body>
</html>
